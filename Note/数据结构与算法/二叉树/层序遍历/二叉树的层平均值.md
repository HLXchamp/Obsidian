![[Pasted image 20240328104929.png]]
![[Pasted image 20240328104946.png|500]]
![[Pasted image 20240328105002.png|288]]

```java
class Solution {
    public List<Double> averageOfLevels(TreeNode root) {
        int size = 0;
        int m = 0;
        long num = 0; // 用long不会溢出
        double aver = 0; 
        List<Double> res = new ArrayList<>();
        Queue<TreeNode> queue = new ArrayDeque<>();
        if(root == null){
            return res;
        }
        else{
            queue.offer(root);
        }
        TreeNode node = root;
        while(!queue.isEmpty()){
            size = queue.size();
            m = size;
            while(size > 0){
                node = queue.poll();
                num += node.val;
                if(node.left != null){
                    queue.offer(node.left);
                }
                if(node.right != null){
                    queue.offer(node.right);
                }
                size--;
            }
            aver = (double)num / m; // 把结果转化成double类型
            res.add(aver);
            num = 0;
        }
        return res;
    }
}
```
