#### 两种方法：
第一种是**直接删除**，要判断是否删除的节点是头节点，头节点和其他节点的删除方式不一样；
第二种是定义一个**虚拟节点指向头节点**，然后和其他节点删除方式一样。

![[Pasted image 20240123170434.png]]

注意在C和C++删除节点后一定要释放内存，不释放应该也不会出错，不过占用内存会变大。

![[Pasted image 20240123164643.png]]

这里采用的是第二种方法，创建了一个`dummy`虚拟节点指向`head`；
```c
struct ListNode* removeElements(struct ListNode* head, int val) {
    struct ListNode* dummy = (struct ListNode*)malloc(sizeof(struct ListNode));
    dummy->next = head;
    struct ListNode* cur = dummy;
    while(cur->next != NULL){
        if(cur->next->val == val){
            cur->next = cur->next->next;
        }
        else{
            cur = cur->next;
        }
    }
    return dummy->next;
}
```
注意事项：
- 要定义一个`cur`临时指针来进行遍历，`dummy`节点不动，它总是指向头节点；
- `cur->next`中间箭头尽量不要分开；
- 最后`return`是`return dummy->next`，也就是头节点。
- 如果要释放删除节点的内存，需新建一个临时节点：
```c
if (cur->next->val == val) {
    struct ListNode* temp = cur->next;
    cur->next = cur->next->next;
    free(temp);  // 释放被删除节点的内存
}
...
struct ListNode* result = dummy->next;
    free(dummy); // 释放创建的 dummy 节点
    return result;
```
