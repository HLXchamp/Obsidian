![[Pasted image 20240313184536.png|575]]

 这道题要用**栈**来做~这里有三种不匹配的情况：

1. 第一种情况，字符串里左方向的括号多余了 ，所以不匹配。 ![括号匹配1|106](https://code-thinking-1253855093.file.myqcloud.com/pics/2020080915505387.png)

2. 第二种情况，括号没有多余，但是 括号的类型没有匹配上。 ![括号匹配2|123](https://code-thinking-1253855093.file.myqcloud.com/pics/20200809155107397.png)

3. 第三种情况，字符串里右方向的括号多余了，所以不匹配。 ![括号匹配3|180](https://code-thinking-1253855093.file.myqcloud.com/pics/20200809155115779.png)


主要思路：
- 遍历到**左方向的括号**，就push对应的**右方向的括号**！
- 遍历到右方向的括号，就与栈顶元素比较，不同的话返回false，相同的话弹出再循环！
- 遍历过程中，若栈已经为空了，说明右括号没有找到对应的左括号，返回false；
- 字符串遍历完之后，栈是空的，就说明全都匹配了。

![20.有效括号|425](https://code-thinking.cdn.bcebos.com/gifs/20.%E6%9C%89%E6%95%88%E6%8B%AC%E5%8F%B7.gif)

```java
class Solution {
    public boolean isValid(String s) {
        Stack<Character> stack = new Stack<>();
        if(s.length() % 2 != 0){
            return false;
        }
        for(int i = 0; i < s.length(); i++){
            if(s.charAt(i) == '{'){
                stack.push('}');
            }
            else if(s.charAt(i) == '('){
                stack.push(')');
            }
            else if(s.charAt(i) == '['){
                stack.push(']');
            }
            else if(stack.isEmpty() || s.charAt(i) != stack.peek()){
                return false;
            }
            else{
                stack.pop();
            }
        }
        return stack.isEmpty();
    }
}
```
